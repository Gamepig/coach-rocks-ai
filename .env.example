# CoachRocks AI - Environment Variables Example
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local or .env files to version control

# =============================================================================
# SECURITY CRITICAL - JWT & Authentication
# =============================================================================

# JWT Secret for access tokens (generate with: openssl rand -hex 32)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# JWT Refresh Token Secret (generate with: openssl rand -hex 32)
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key-change-this

# Token Expiration
JWT_ACCESS_TOKEN_EXPIRES_IN=15m
JWT_REFRESH_TOKEN_EXPIRES_IN=7d

# =============================================================================
# SECURITY CRITICAL - Encryption
# =============================================================================

# AES-256 Encryption Key for sensitive data (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your-aes-256-encryption-key-32-bytes-hex

# Database Encryption Key (if using field-level encryption)
DATABASE_ENCRYPTION_KEY=your-database-encryption-key-32-bytes-hex

# =============================================================================
# OAuth 2.0 - Google
# =============================================================================

GOOGLE_CLIENT_ID=your-google-oauth-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-oauth-client-secret

# OAuth Redirect URIs (adjust for your environment)
GOOGLE_OAUTH_REDIRECT_URI=https://your-domain.com/api/auth/google/callback

# =============================================================================
# OAuth 2.0 - Zoom
# =============================================================================

ZOOM_CLIENT_ID=your-zoom-client-id
ZOOM_CLIENT_SECRET=your-zoom-client-secret
ZOOM_REDIRECT_URI=https://your-domain.com/api/auth/zoom/callback

# Zoom Webhook Secret for signature verification
ZOOM_WEBHOOK_SECRET=your-zoom-webhook-secret

# =============================================================================
# Google Workspace API
# =============================================================================

# Google Service Account for Calendar/Drive API
GOOGLE_SERVICE_ACCOUNT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com

# Service Account Private Key (JSON - keep this secure!)
# For Cloudflare Workers, store this in Cloudflare Secrets
GOOGLE_SERVICE_ACCOUNT_KEY='{"type":"service_account","project_id":"...","private_key":"..."}'

# =============================================================================
# AI Services - OpenAI
# =============================================================================

# OpenAI API Key (Enterprise recommended for data privacy)
OPENAI_API_KEY=sk-your-openai-api-key

# OpenAI Organization ID (optional)
OPENAI_ORG_ID=org-your-organization-id

# Model Configuration
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.7

# =============================================================================
# AI Services - Cloudflare AI
# =============================================================================

# Cloudflare Account ID
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id

# Cloudflare AI Gateway API Key
CLOUDFLARE_AI_API_KEY=your-cloudflare-ai-api-key

# =============================================================================
# Transcription - Deepgram
# =============================================================================

DEEPGRAM_API_KEY=your-deepgram-api-key

# Deepgram Model Configuration
DEEPGRAM_MODEL=nova-2
DEEPGRAM_LANGUAGE=en

# =============================================================================
# Email Service - Resend API (Primary, Recommended)
# =============================================================================

# Resend API Key for email sending
# Generate at: https://resend.com/api-keys
# Benefits:
# - HTTP API (fully compatible with Cloudflare Workers)
# - Test domain (onboarding@resend.dev) available for development
# - Professional domain support (after DNS configuration)
# - Free tier: 3,000 emails/month
RESEND_API_KEY=your-resend-api-key

# =============================================================================
# Email - Gmail SMTP (OAuth) - Legacy Support
# =============================================================================

# Gmail account for sending emails
GMAIL_USER=your-email@gmail.com

# Gmail App Password (not your regular password)
# Generate at: https://myaccount.google.com/apppasswords
GMAIL_APP_PASSWORD=your-16-character-app-password

# Email Configuration
EMAIL_FROM_NAME=CoachRocks AI
FROM_EMAIL=noreply@coachrocks.com

# =============================================================================
# Search & Research - Perplexity AI
# =============================================================================

PERPLEXITY_API_KEY=your-perplexity-api-key

# =============================================================================
# Search & Research - Serper API (Alternative)
# =============================================================================

SERPER_API_KEY=your-serper-api-key

# =============================================================================
# Database - Cloudflare D1
# =============================================================================

# D1 Database ID (from Cloudflare dashboard)
D1_DATABASE_ID=your-d1-database-id

# Database Connection String (for local development)
DATABASE_URL=file:./local.db

# =============================================================================
# Storage - Cloudflare R2
# =============================================================================

# R2 Bucket Name for file storage
R2_BUCKET_NAME=coachrocks-meetings

# R2 Access Key ID
R2_ACCESS_KEY_ID=your-r2-access-key-id

# R2 Secret Access Key
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key

# R2 Endpoint (adjust for your region)
R2_ENDPOINT=https://<account-id>.r2.cloudflarestorage.com

# =============================================================================
# Security Configuration
# =============================================================================

# Allowed Origins for CORS (comma-separated)
ALLOWED_ORIGINS=https://coachrocks.ai,https://app.coachrocks.ai

# Rate Limiting
RATE_LIMIT_GLOBAL=1000
RATE_LIMIT_AUTH=5
RATE_LIMIT_API=100

# Session Configuration
SESSION_MAX_AGE=900  # 15 minutes
REFRESH_TOKEN_MAX_AGE=604800  # 7 days

# Security Headers
ENABLE_HSTS=true
ENABLE_CSP=true

# =============================================================================
# Application Configuration
# =============================================================================

# Environment (development, staging, production)
NODE_ENV=development

# Application URL
APP_URL=https://coachrocks.ai

# API Base URL
API_URL=https://api.coachrocks.ai

# Frontend URL
FRONTEND_URL=https://app.coachrocks.ai

# =============================================================================
# Monitoring & Logging (Optional)
# =============================================================================

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# LogDNA/LogTail API Key (optional)
# LOGDNA_API_KEY=your-logdna-api-key

# =============================================================================
# Development Only
# =============================================================================

# Debug Mode (NEVER enable in production!)
DEBUG=false

# Verbose Logging
VERBOSE_LOGGING=false

# Skip Email Sending (for local development)
SKIP_EMAIL_SENDING=false

# =============================================================================
# SECURITY REMINDERS
# =============================================================================

# ðŸ”’ NEVER commit .env files to version control
# ðŸ”’ Use different secrets for each environment
# ðŸ”’ Rotate secrets regularly (every 90 days)
# ðŸ”’ Use Cloudflare Secrets for production deployment
# ðŸ”’ Enable 2FA on all service accounts
# ðŸ”’ Restrict API key permissions to minimum required
# ðŸ”’ Monitor API usage for anomalies
# ðŸ”’ Keep this file updated when adding new variables

# =============================================================================
# Secret Generation Commands
# =============================================================================

# Generate JWT Secret:
# openssl rand -hex 32

# Generate Encryption Key:
# openssl rand -hex 32

# Generate Webhook Secret:
# openssl rand -base64 32

# =============================================================================
# Cloudflare Workers Secrets Management
# =============================================================================

# To set secrets in Cloudflare Workers:
# wrangler secret put JWT_SECRET
# wrangler secret put ENCRYPTION_KEY
# wrangler secret put OPENAI_API_KEY
# ... (repeat for all sensitive values)

# To list secrets:
# wrangler secret list

# To delete a secret:
# wrangler secret delete SECRET_NAME
